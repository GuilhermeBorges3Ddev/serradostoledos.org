{"ast":null,"code":"import _objectSpread from\"/home/guilherme/\\xC1rea de Trabalho/onBoard/SerraDosToledos/serradostoledos.org/portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/guilherme/\\xC1rea de Trabalho/onBoard/SerraDosToledos/serradostoledos.org/portal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import axios from\"axios\";import{Card,CardTitle,ListGroup,ListGroupItem,ListGroupItemHeading,ListGroupItemText}from'reactstrap';//Using the <<iconify.design>> library of React\nimport{Icon}from'@iconify/react';import listStatus from'@iconify-icons/mdi/list-status';import paletteSwatchOutline from'@iconify-icons/mdi/palette-swatch-outline';import headAlertOutline from'@iconify-icons/mdi/head-alert-outline';/* \n    These <<react-custom-scrollbars>> library was imported to threat the backend return of N posts... \n    He had to wrap all content to work well.\n*/import{Scrollbars}from'react-custom-scrollbars';import HomeNavbar from'../../components/Navbar/HomeNavbar';import\"./SeePublications.scss\";export default function SeePublications(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),allPosts=_useState2[0],setAllPosts=_useState2[1];var getPosts=function getPosts(){axios.get('https://serradostoledosapis.herokuapp.com/posts').then(function(res){setAllPosts(res===null||res===void 0?void 0:res.data);});};useEffect(function(){setInterval(getPosts(),60000);//console.log(\"1) \" + JSON.stringify(allPosts))\n},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"Wrapper\",children:[console.log(\"2) \"+JSON.stringify(allPosts)),/*#__PURE__*/_jsx(HomeNavbar,{className:\"home-navbar\"}),/*#__PURE__*/_jsx(\"header\",{className:\"Wrapper-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"Wrapper-body\",children:/*#__PURE__*/_jsxs(Card,{body:true,inverse:true,style:{backgroundColor:'#333',borderColor:'#333'},children:[/*#__PURE__*/_jsx(CardTitle,{children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-warning d-flex justify-content-around align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Icon,{icon:listStatus,width:60,height:60})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5\",children:/*#__PURE__*/_jsxs(\"i\",{children:[\"  \",\"Veja as publica\\xE7\\xF5es que os usu\\xE1rios fizeram em tempo-real:\"]})})]})}),/*#__PURE__*/_jsx(Scrollbars,{style:{height:350},renderThumbVertical:function renderThumbVertical(props){return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({},props),{},{className:\"thumb-horizontal\"}));},children:/*#__PURE__*/_jsx(ListGroup,{children:allPosts.map(function(postItem){return/*#__PURE__*/_jsxs(ListGroupItem,{className:postItem.contentType===\"feedback\"?\"Feedback my-2\":\"Complaint my-2\",children:[/*#__PURE__*/_jsxs(ListGroupItemHeading,{className:\"Post-Kind\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Icon,{icon:postItem.contentType===\"feedback\"?paletteSwatchOutline:headAlertOutline,width:40,height:40})}),/*#__PURE__*/_jsx(\"div\",{className:\"Post-Kind-Label text-uppercase\",children:/*#__PURE__*/_jsx(\"i\",{children:postItem.contentType})})]}),/*#__PURE__*/_jsx(ListGroupItemText,{className:\"Post-Text\",children:/*#__PURE__*/_jsx(\"p\",{children:postItem.message})})]},postItem._id);})})})]})})})]});}","map":{"version":3,"sources":["/home/guilherme/Área de Trabalho/onBoard/SerraDosToledos/serradostoledos.org/portal/src/areas/SeePublications/SeePublications.jsx"],"names":["React","useState","useEffect","axios","Card","CardTitle","ListGroup","ListGroupItem","ListGroupItemHeading","ListGroupItemText","Icon","listStatus","paletteSwatchOutline","headAlertOutline","Scrollbars","HomeNavbar","SeePublications","allPosts","setAllPosts","getPosts","get","then","res","data","setInterval","console","log","JSON","stringify","backgroundColor","borderColor","height","props","map","postItem","contentType","message","_id"],"mappings":"ifAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OACQC,IADR,CAEQC,SAFR,CAGQC,SAHR,CAIQC,aAJR,CAKQC,oBALR,CAMQC,iBANR,KAOO,YAPP,CASA;AACA,OAASC,IAAT,KAAqB,gBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,gCAAvB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,2CAAjC,CACA,MAAOC,CAAAA,gBAAP,KAA6B,uCAA7B,CAEA;AACA;AACA;AACA,EACA,OAASC,UAAT,KAA2B,yBAA3B,CAEA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CAEA,MAAO,wBAAP,CAEA,cAAe,SAASC,CAAAA,eAAT,EAA2B,eAENf,QAAQ,CAAC,EAAD,CAFF,wCAE/BgB,QAF+B,eAErBC,WAFqB,eAItC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACfhB,KAAK,CAACiB,GAAN,CAAU,iDAAV,EAA6DC,IAA7D,CAAkE,SAAAC,GAAG,CAAI,CACrEJ,WAAW,CAACI,GAAD,SAACA,GAAD,iBAACA,GAAG,CAAEC,IAAN,CAAX,CACH,CAFD,EAGP,CAJD,CAMArB,SAAS,CAAC,UAAM,CACZsB,WAAW,CAACL,QAAQ,EAAT,CAAY,KAAZ,CAAX,CACA;AACH,CAHQ,CAGN,EAHM,CAAT,CAKA,mBAEI,aAAK,SAAS,CAAC,SAAf,WAEKM,OAAO,CAACC,GAAR,CAAY,MAAQC,IAAI,CAACC,SAAL,CAAeX,QAAf,CAApB,CAFL,cAII,KAAC,UAAD,EAAY,SAAS,CAAC,aAAtB,EAJJ,cAMI,eAAQ,SAAS,CAAC,gBAAlB,uBACI,YAAK,SAAS,CAAC,cAAf,uBACI,MAAC,IAAD,EAAM,IAAI,KAAV,CAAW,OAAO,KAAlB,CAAmB,KAAK,CAAE,CAAEY,eAAe,CAAE,MAAnB,CAA2BC,WAAW,CAAE,MAAxC,CAA1B,wBAEI,KAAC,SAAD,wBACI,YAAI,SAAS,CAAC,+DAAd,wBAEI,kCACI,KAAC,IAAD,EAAM,IAAI,CAAEnB,UAAZ,CAAwB,KAAK,CAAE,EAA/B,CAAmC,MAAM,CAAE,EAA3C,EADJ,EAFJ,cAMI,YAAK,SAAS,CAAC,MAAf,uBACI,qBAAI,IAAJ,yEADJ,EANJ,GADJ,EAFJ,cAiBI,KAAC,UAAD,EACI,KAAK,CAAE,CAAEoB,MAAM,CAAE,GAAV,CADX,CAEI,mBAAmB,CAAE,6BAAAC,KAAK,qBAAI,0CAASA,KAAT,MAAgB,SAAS,CAAC,kBAA1B,GAAJ,EAF9B,uBAIQ,KAAC,SAAD,WAEKf,QAAQ,CAACgB,GAAT,CAAa,SAACC,QAAD,CAAc,CACxB,mBAAO,MAAC,aAAD,EAAkC,SAAS,CAAGA,QAAQ,CAACC,WAAT,GAAyB,UAA1B,CAAwC,eAAxC,CAA0D,gBAAvG,wBACH,MAAC,oBAAD,EAAsB,SAAS,CAAC,WAAhC,wBACI,kCACI,KAAC,IAAD,EAAM,IAAI,CAAGD,QAAQ,CAACC,WAAT,GAAyB,UAA1B,CAAwCvB,oBAAxC,CAA+DC,gBAA3E,CAA6F,KAAK,CAAE,EAApG,CAAwG,MAAM,CAAE,EAAhH,EADJ,EADJ,cAII,YAAK,SAAS,CAAC,gCAAf,uBACI,mBAAIqB,QAAQ,CAACC,WAAb,EADJ,EAJJ,GADG,cASH,KAAC,iBAAD,EAAmB,SAAS,CAAC,WAA7B,uBACI,mBAAID,QAAQ,CAACE,OAAb,EADJ,EATG,GAAoBF,QAAQ,CAACG,GAA7B,CAAP,CAaH,CAdA,CAFL,EAJR,EAjBJ,GADJ,EADJ,EANJ,GAFJ,CA2DH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\n\nimport { \n        Card, \n        CardTitle,\n        ListGroup, \n        ListGroupItem, \n        ListGroupItemHeading, \n        ListGroupItemText \n} from 'reactstrap';\n\n//Using the <<iconify.design>> library of React\nimport { Icon } from '@iconify/react';\nimport listStatus from '@iconify-icons/mdi/list-status';\nimport paletteSwatchOutline from '@iconify-icons/mdi/palette-swatch-outline';\nimport headAlertOutline from '@iconify-icons/mdi/head-alert-outline';\n\n/* \n    These <<react-custom-scrollbars>> library was imported to threat the backend return of N posts... \n    He had to wrap all content to work well.\n*/\nimport { Scrollbars } from 'react-custom-scrollbars';\n\nimport HomeNavbar from '../../components/Navbar/HomeNavbar';\n\nimport \"./SeePublications.scss\";\n\nexport default function SeePublications() {\n\n    const [allPosts, setAllPosts] = useState({});\n\n    const getPosts = () => {\n            axios.get('https://serradostoledosapis.herokuapp.com/posts').then(res => {\n                setAllPosts(res?.data);\n            });\n    }\n\n    useEffect(() => {\n        setInterval(getPosts(),60000);\n        //console.log(\"1) \" + JSON.stringify(allPosts))\n    }, []);\n\n    return (\n\n        <div className=\"Wrapper\">\n\n            {console.log(\"2) \" + JSON.stringify(allPosts))}\n\n            <HomeNavbar className=\"home-navbar\"/>\n    \n            <header className=\"Wrapper-header\">\n                <div className=\"Wrapper-body\" >\n                    <Card body inverse style={{ backgroundColor: '#333', borderColor: '#333' }}>\n                    \n                        <CardTitle>\n                            <h3 className=\"text-warning d-flex justify-content-around align-items-center\">\n                                \n                                <div>\n                                    <Icon icon={listStatus} width={60} height={60} />\n                                </div>\n\n                                <div className=\"ml-5\">\n                                    <i>{\"  \"}Veja as publicações que os usuários fizeram em tempo-real:</i>\n                                </div>\n                                \n                            </h3>\n                        </CardTitle>\n\n\n                        <Scrollbars \n                            style={{ height: 350 }}\n                            renderThumbVertical={props => <div {...props} className=\"thumb-horizontal\"/>}\n                        >\n                                <ListGroup>\n\n                                    {allPosts.map((postItem) => {\n                                        return <ListGroupItem key={postItem._id} className={(postItem.contentType === \"feedback\") ? \"Feedback my-2\" : \"Complaint my-2\"}>      \n                                            <ListGroupItemHeading className=\"Post-Kind\">\n                                                <div>\n                                                    <Icon icon={(postItem.contentType === \"feedback\") ? paletteSwatchOutline : headAlertOutline} width={40} height={40} />\n                                                </div>\n                                                <div className=\"Post-Kind-Label text-uppercase\">\n                                                    <i>{postItem.contentType}</i>\n                                                </div>\n                                            </ListGroupItemHeading>\n                                            <ListGroupItemText className=\"Post-Text\">\n                                                <p>{postItem.message}</p>\n                                            </ListGroupItemText>\n                                        </ListGroupItem>\n                                    })}\n                            \n                                </ListGroup>\n\n                        </Scrollbars>  \n\n                    </Card>\n                </div>\n            </header>\n  \n        </div> \n    )\n}"]},"metadata":{},"sourceType":"module"}